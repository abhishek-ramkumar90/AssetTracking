{"ast":null,"code":"/**\r\n * DevExtreme (data/array_store.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar _utils = require(\"./utils\");\n\nvar _query = require(\"./query\");\n\nvar _query2 = _interopRequireDefault(_query);\n\nvar _errors = require(\"./errors\");\n\nvar _abstract_store = require(\"./abstract_store\");\n\nvar _abstract_store2 = _interopRequireDefault(_abstract_store);\n\nvar _array_utils = require(\"./array_utils\");\n\nvar _array_utils2 = _interopRequireDefault(_array_utils);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar ArrayStore = _abstract_store2.default.inherit({\n  ctor: function (options) {\n    if (Array.isArray(options)) {\n      options = {\n        data: options\n      };\n    } else {\n      options = options || {};\n    }\n\n    this.callBase(options);\n    var initialArray = options.data;\n\n    if (initialArray && !Array.isArray(initialArray)) {\n      throw _errors.errors.Error(\"E4006\");\n    }\n\n    this._array = initialArray || [];\n  },\n  createQuery: function () {\n    return (0, _query2.default)(this._array, {\n      errorHandler: this._errorHandler\n    });\n  },\n  _byKeyImpl: function (key) {\n    var index = _array_utils2.default.indexByKey(this, this._array, key);\n\n    if (index === -1) {\n      return (0, _utils.rejectedPromise)(_errors.errors.Error(\"E4009\"));\n    }\n\n    return (0, _utils.trivialPromise)(this._array[index]);\n  },\n  _insertImpl: function (values) {\n    return _array_utils2.default.insert(this, this._array, values);\n  },\n  _pushImpl: function (changes) {\n    _array_utils2.default.applyBatch(this, this._array, changes);\n  },\n  _updateImpl: function (key, values) {\n    return _array_utils2.default.update(this, this._array, key, values);\n  },\n  _removeImpl: function (key) {\n    return _array_utils2.default.remove(this, this._array, key);\n  },\n  clear: function () {\n    this.fireEvent(\"modifying\");\n    this._array = [];\n    this.fireEvent(\"modified\");\n  }\n}, \"array\");\n\nmodule.exports = ArrayStore;\nmodule.exports.default = module.exports;","map":null,"metadata":{},"sourceType":"script"}