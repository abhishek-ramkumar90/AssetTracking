{"ast":null,"code":"/**\r\n * DevExtreme (viz/core/layout_element.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar noop = require(\"../../core/utils/common\").noop;\n\nvar _round = Math.round;\n\nvar objectUtils = require(\"../../core/utils/object\");\n\nvar defaultOffset = {\n  horizontal: 0,\n  vertical: 0\n};\nvar alignFactors = {\n  center: .5,\n  right: 1,\n  bottom: 1,\n  left: 0,\n  top: 0\n};\n\nfunction LayoutElement(options) {\n  this._options = options;\n}\n\nLayoutElement.prototype = {\n  constructor: LayoutElement,\n  position: function (options) {\n    var that = this;\n    var ofBBox = options.of.getLayoutOptions();\n    var myBBox = that.getLayoutOptions();\n    var at = options.at;\n    var my = options.my;\n    var offset = options.offset || defaultOffset;\n    var shiftX = -alignFactors[my.horizontal] * myBBox.width + ofBBox.x + alignFactors[at.horizontal] * ofBBox.width + parseInt(offset.horizontal);\n    var shiftY = -alignFactors[my.vertical] * myBBox.height + ofBBox.y + alignFactors[at.vertical] * ofBBox.height + parseInt(offset.vertical);\n    that.shift(_round(shiftX), _round(shiftY));\n  },\n  getLayoutOptions: noop\n};\n\nfunction WrapperLayoutElement(renderElement, bBox) {\n  this._renderElement = renderElement;\n  this._cacheBBox = bBox;\n}\n\nvar wrapperLayoutElementPrototype = WrapperLayoutElement.prototype = objectUtils.clone(LayoutElement.prototype);\nwrapperLayoutElementPrototype.constructor = WrapperLayoutElement;\n\nwrapperLayoutElementPrototype.getLayoutOptions = function () {\n  return this._cacheBBox || this._renderElement.getBBox();\n};\n\nwrapperLayoutElementPrototype.shift = function (shiftX, shiftY) {\n  var bBox = this.getLayoutOptions();\n\n  this._renderElement.move(_round(shiftX - bBox.x), _round(shiftY - bBox.y));\n};\n\nexports.LayoutElement = LayoutElement;\nexports.WrapperLayoutElement = WrapperLayoutElement;","map":null,"metadata":{},"sourceType":"script"}