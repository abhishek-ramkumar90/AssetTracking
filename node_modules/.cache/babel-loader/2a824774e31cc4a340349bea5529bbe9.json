{"ast":null,"code":"/**\r\n * DevExtreme (exporter.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar fileSaver = require(\"./exporter/file_saver\").fileSaver;\n\nvar excelCreator = require(\"./exporter/excel_creator\");\n\nvar imageCreator = require(\"./exporter/image_creator\");\n\nvar svgCreator = require(\"./exporter/svg_creator\");\n\nvar _isFunction = require(\"./core/utils/type\").isFunction;\n\nvar Deferred = require(\"./core/utils/deferred\").Deferred;\n\nexports.export = function (data, options, getData) {\n  if (!data) {\n    return new Deferred().resolve();\n  }\n\n  var exportingAction = options.exportingAction;\n  var exportedAction = options.exportedAction;\n  var fileSavingAction = options.fileSavingAction;\n  var eventArgs = {\n    fileName: options.fileName,\n    format: options.format,\n    cancel: false\n  };\n  _isFunction(exportingAction) && exportingAction(eventArgs);\n\n  if (!eventArgs.cancel) {\n    return getData(data, options).then(function (blob) {\n      _isFunction(exportedAction) && exportedAction();\n\n      if (_isFunction(fileSavingAction)) {\n        eventArgs.data = blob;\n        fileSavingAction(eventArgs);\n      }\n\n      if (!eventArgs.cancel) {\n        fileSaver.saveAs(eventArgs.fileName, options.format, blob, options.proxyUrl, options.forceProxy);\n      }\n    });\n  }\n\n  return new Deferred().resolve();\n};\n\nexports.fileSaver = fileSaver;\nexports.excel = {\n  creator: excelCreator.ExcelCreator,\n  getData: excelCreator.getData,\n  formatConverter: require(\"./exporter/excel_format_converter\")\n};\nexports.image = {\n  creator: imageCreator.imageCreator,\n  getData: imageCreator.getData,\n  testFormats: imageCreator.testFormats\n};\nexports.pdf = {\n  getData: require(\"./exporter/pdf_creator\").getData\n};\nexports.svg = {\n  creator: svgCreator.svgCreator,\n  getData: svgCreator.getData\n};","map":null,"metadata":{},"sourceType":"script"}