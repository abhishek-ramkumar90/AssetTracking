{"ast":null,"code":"/**\r\n * DevExtreme (animation/frame.js)\r\n * Version: 19.2.7\r\n * Build date: Thu Mar 26 2020\r\n *\r\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\n\"use strict\";\n\nvar windowUtils = require(\"../core/utils/window\");\n\nvar window = windowUtils.hasWindow() ? windowUtils.getWindow() : {};\n\nvar callOnce = require(\"../core/utils/call_once\");\n\nvar FRAME_ANIMATION_STEP_TIME = 1e3 / 60;\n\nvar request = function (callback) {\n  return setTimeout(callback, FRAME_ANIMATION_STEP_TIME);\n};\n\nvar cancel = function (requestID) {\n  clearTimeout(requestID);\n};\n\nvar setAnimationFrameMethods = callOnce(function () {\n  var nativeRequest = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame;\n  var nativeCancel = window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame;\n\n  if (nativeRequest && nativeCancel) {\n    request = nativeRequest;\n    cancel = nativeCancel;\n  }\n\n  if (nativeRequest && !nativeCancel) {\n    var canceledRequests = {};\n\n    request = function (callback) {\n      var requestId = nativeRequest.call(window, function () {\n        try {\n          if (requestId in canceledRequests) {\n            return;\n          }\n\n          callback.apply(this, arguments);\n        } finally {\n          delete canceledRequests[requestId];\n        }\n      });\n      return requestId;\n    };\n\n    cancel = function (requestId) {\n      canceledRequests[requestId] = true;\n    };\n  }\n});\n\nexports.requestAnimationFrame = function () {\n  setAnimationFrameMethods();\n  return request.apply(window, arguments);\n};\n\nexports.cancelAnimationFrame = function () {\n  setAnimationFrameMethods();\n  cancel.apply(window, arguments);\n};","map":null,"metadata":{},"sourceType":"script"}