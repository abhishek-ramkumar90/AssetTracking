{"ast":null,"code":"/*!\n * devextreme-react\n * Version: 19.2.7\n * Build date: Thu Mar 26 2020\n *\n * Copyright (c) 2012 - 2020 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-react\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar React = require(\"react\");\n\nvar config_1 = require(\"./config\");\n\nvar dx_template_1 = require(\"./dx-template\");\n\nfunction normalizeProps(props) {\n  if (config_1.getOption(\"useLegacyTemplateEngine\")) {\n    var model = props.data;\n\n    if (model && model.hasOwnProperty(\"key\")) {\n      model.dxkey = model.key;\n    }\n\n    return model;\n  }\n\n  return props;\n}\n\nvar contentCreators = {\n  component: function (contentGetter) {\n    return function (props) {\n      props = normalizeProps(props);\n      return React.createElement.bind(null, contentGetter())(props);\n    };\n  },\n  render: function (contentGetter) {\n    return function (props) {\n      normalizeProps(props);\n      return contentGetter()(props.data, props.index);\n    };\n  },\n  children: function (contentGetter) {\n    return function () {\n      return contentGetter();\n    };\n  }\n};\n\nvar TemplatesManager =\n/** @class */\nfunction () {\n  function TemplatesManager(templatesStore) {\n    this._templates = {};\n    this._templatesContent = {};\n    this._templatesStore = templatesStore;\n  }\n\n  TemplatesManager.prototype.add = function (name, template) {\n    var _this = this;\n\n    this._templatesContent[name] = template.content;\n    var contentCreator = contentCreators[template.type].bind(this, function () {\n      return _this._templatesContent[name];\n    });\n    this._templates[name] = dx_template_1.createDxTemplate(contentCreator, this._templatesStore, template.keyFn);\n  };\n\n  Object.defineProperty(TemplatesManager.prototype, \"templatesCount\", {\n    get: function () {\n      return Object.keys(this._templates).length;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(TemplatesManager.prototype, \"templates\", {\n    get: function () {\n      return this._templates;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return TemplatesManager;\n}();\n\nexports.default = TemplatesManager;","map":null,"metadata":{},"sourceType":"script"}