{"version":3,"file":"index.js","sources":["../src/propTypes.ts","../src/utils.ts","../src/Chart/extendData.ts","../src/Label.tsx","../src/Chart/renderLabels.tsx","../node_modules/svg-partial-circle/index.js","../src/Path.tsx","../src/Chart/renderSegments.tsx","../src/Chart/index.tsx"],"sourcesContent":["import PropTypes from 'prop-types';\n\nexport const stylePropType = PropTypes.objectOf(\n  PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n);\n\nexport const dataPropType = PropTypes.arrayOf(\n  PropTypes.shape({\n    title: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    value: PropTypes.number.isRequired,\n    color: PropTypes.string,\n    key: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    style: stylePropType,\n  })\n);\n","import { Props as ChartProps } from './Chart';\n\nexport function degreesToRadians(degrees: number) {\n  return (degrees * Math.PI) / 180;\n}\n\nexport function evaluateLabelTextAnchor({\n  labelPosition,\n  lineWidth,\n  labelHorizontalShift,\n}: {\n  labelPosition: number;\n  lineWidth: number;\n  labelHorizontalShift: number;\n}) {\n  // Label in the vertical center\n  if (labelHorizontalShift === 0) {\n    return 'middle';\n  }\n  // Outward label\n  if (labelPosition > 100) {\n    return labelHorizontalShift > 0 ? 'start' : 'end';\n  }\n  // Inward label\n  const innerRadius = 100 - lineWidth;\n  if (labelPosition < innerRadius) {\n    return labelHorizontalShift > 0 ? 'end' : 'start';\n  }\n  // Overlying label\n  return 'middle';\n}\n\nexport function valueBetween(value: number, min: number, max: number) {\n  if (value > max) return max;\n  if (value < min) return min;\n  return value;\n}\n\nexport function extractPercentage(value: number, percentage: number) {\n  return (value * percentage) / 100;\n}\n\nexport function extractAbsoluteCoordinates(props: ChartProps) {\n  const [viewBoxWidth, viewBoxHeight] = props.viewBoxSize;\n  return {\n    cx: extractPercentage(props.cx, viewBoxWidth),\n    cy: extractPercentage(props.cy, viewBoxHeight),\n    radius: extractPercentage(props.radius, viewBoxWidth),\n  };\n}\n","import { extractPercentage, valueBetween } from '../utils';\nimport { Data } from '../commonTypes';\nimport { Props as ChartProps } from './index';\n\nfunction sumValues(data: Data) {\n  return data.reduce((acc, dataEntry) => acc + dataEntry.value, 0);\n}\n\n// Append \"percentage\", \"degrees\" and \"startOffset\" into each data entry\nexport default function extendData({\n  data,\n  lengthAngle: totalAngle,\n  totalValue,\n  paddingAngle,\n}: ChartProps) {\n  const total = totalValue || sumValues(data);\n  const normalizedTotalAngle = valueBetween(totalAngle, -360, 360);\n  const numberOfPaddings =\n    Math.abs(normalizedTotalAngle) === 360 ? data.length : data.length - 1;\n  const singlePaddingDegrees = Math.abs(paddingAngle) * Math.sign(totalAngle);\n  const degreesTakenByPadding = singlePaddingDegrees * numberOfPaddings;\n  const degreesTakenByPaths = normalizedTotalAngle - degreesTakenByPadding;\n  let lastSegmentEnd = 0;\n\n  // @NOTE: Shall we evaluate percentage accordingly to dataEntry.value's sign?\n  return data.map(dataEntry => {\n    const valueInPercentage = total === 0 ? 0 : (dataEntry.value / total) * 100;\n    const degrees = extractPercentage(degreesTakenByPaths, valueInPercentage);\n    const startOffset = lastSegmentEnd;\n    lastSegmentEnd = lastSegmentEnd + degrees + singlePaddingDegrees;\n\n    return {\n      percentage: valueInPercentage,\n      degrees,\n      startOffset,\n      ...dataEntry,\n    };\n  });\n}\n","import React from 'react';\nimport { ExtendedData, StyleObject } from './commonTypes';\n\nexport type Props = {\n  key?: string | number;\n  x: number;\n  y: number;\n  dx: number;\n  dy: number;\n  textAnchor: string;\n  data: ExtendedData;\n  dataIndex: number;\n  color: string;\n  style?: StyleObject;\n};\n\nexport default function ReactMinimalPieChartLabel({\n  data,\n  dataIndex,\n  color,\n  ...props\n}: Props) {\n  return (\n    <text\n      textAnchor=\"middle\"\n      dominantBaseline=\"middle\"\n      fill={color}\n      {...props}\n    />\n  );\n}\n\nReactMinimalPieChartLabel.displayName = 'ReactMinimalPieChartLabel';\n","import React from 'react';\nimport { default as DefaultLabel, Props as LabelProps } from '../Label';\nimport {\n  degreesToRadians,\n  evaluateLabelTextAnchor,\n  extractPercentage,\n  extractAbsoluteCoordinates,\n} from '../utils';\nimport { ExtendedData, LabelProp } from '../commonTypes';\nimport { Props as ChartProps } from './index';\n\nfunction renderLabelItem(\n  option: LabelProp,\n  labelProps: LabelProps,\n  value: number\n) {\n  if (React.isValidElement(option)) {\n    return React.cloneElement(option, labelProps);\n  }\n\n  let label: number | string | React.ReactElement = value;\n  if (typeof option === 'function') {\n    label = option(labelProps);\n    if (React.isValidElement(label)) {\n      return label;\n    }\n  }\n\n  return <DefaultLabel {...labelProps}>{label}</DefaultLabel>;\n}\n\nexport default function renderLabels(data: ExtendedData, props: ChartProps) {\n  const { cx, cy, radius } = extractAbsoluteCoordinates(props);\n  const labelPosition = extractPercentage(radius, props.labelPosition);\n\n  return data.map((dataEntry, index) => {\n    const startAngle = props.startAngle + dataEntry.startOffset;\n    const halfAngle = startAngle + dataEntry.degrees / 2;\n    const halfAngleRadians = degreesToRadians(halfAngle);\n    const dx = Math.cos(halfAngleRadians) * labelPosition;\n    const dy = Math.sin(halfAngleRadians) * labelPosition;\n\n    // This object is passed as props to the \"label\" component\n    const labelProps = {\n      key: `label-${dataEntry.key || index}`,\n      x: cx,\n      y: cy,\n      dx,\n      dy,\n      textAnchor: evaluateLabelTextAnchor({\n        lineWidth: props.lineWidth,\n        labelPosition: props.labelPosition,\n        labelHorizontalShift: dx,\n      }),\n      data: data,\n      dataIndex: index,\n      color: dataEntry.color,\n      style: props.labelStyle,\n    };\n\n    return renderLabelItem(props.label, labelProps, dataEntry.value);\n  });\n}\n","'use strict'\n\n// from http://stackoverflow.com/a/18473154\nconst partialCircle = (cx, cy, r, start, end) => {\n\tconst length = end - start\n\tif (length === 0) return []\n\n\tconst fromX = r * Math.cos(start) + cx\n\tconst fromY = r * Math.sin(start) + cy\n\tconst toX = r * Math.cos(end) + cx\n\tconst toY = r * Math.sin(end) + cy\n\tconst large = Math.abs(length) <= Math.PI ? '0' : '1'\n\tconst sweep = length < 0 ? '0' : '1'\n\n\treturn [\n\t\t['M', fromX, fromY],\n\t\t['A', r, r, 0, large, sweep, toX, toY]\n\t]\n}\n\nmodule.exports = partialCircle\n","import React from 'react';\nimport partialCircle from 'svg-partial-circle';\nimport { degreesToRadians, extractPercentage, valueBetween } from './utils';\n\nfunction makePathCommands(\n  cx: number,\n  cy: number,\n  startAngle: number,\n  lengthAngle: number,\n  radius: number\n) {\n  const patchedLengthAngle = valueBetween(lengthAngle, -359.999, 359.999);\n\n  return partialCircle(\n    cx,\n    cy, // center X and Y\n    radius,\n    degreesToRadians(startAngle),\n    degreesToRadians(startAngle + patchedLengthAngle)\n  )\n    .map(command => command.join(' '))\n    .join(' ');\n}\n\ntype Props = {\n  cx: number;\n  cy: number;\n  startAngle: number;\n  lengthAngle: number;\n  radius: number;\n  lineWidth: number;\n  reveal?: number;\n  title?: string | number;\n  [key: string]: any;\n};\n\nexport default function ReactMinimalPieChartPath({\n  cx,\n  cy,\n  startAngle,\n  lengthAngle,\n  radius,\n  lineWidth,\n  reveal,\n  title,\n  ...props\n}: Props) {\n  const actualRadio = radius - lineWidth / 2;\n  const pathCommands = makePathCommands(\n    cx,\n    cy,\n    startAngle,\n    lengthAngle,\n    actualRadio\n  );\n  let strokeDasharray;\n  let strokeDashoffset;\n\n  // Animate/hide paths with \"stroke-dasharray\" + \"stroke-dashoffset\"\n  // https://css-tricks.com/svg-line-animation-works/\n  if (typeof reveal === 'number') {\n    const pathLength = degreesToRadians(actualRadio) * lengthAngle;\n    strokeDasharray = Math.abs(pathLength);\n    strokeDashoffset =\n      strokeDasharray - extractPercentage(strokeDasharray, reveal);\n  }\n\n  return (\n    <path\n      d={pathCommands}\n      strokeWidth={lineWidth}\n      strokeDasharray={strokeDasharray}\n      strokeDashoffset={strokeDashoffset}\n      {...props}\n    >\n      {title && <title>{title}</title>}\n    </path>\n  );\n}\n\nReactMinimalPieChartPath.displayName = 'ReactMinimalPieChartPath';\n","import React from 'react';\nimport Path from '../Path';\nimport { extractPercentage, extractAbsoluteCoordinates } from '../utils';\nimport { ExtendedData, StyleObject } from '../commonTypes';\nimport { Props as ChartProps } from './index';\n\nfunction makeSegmentTransitionStyle(\n  duration: number,\n  easing: string,\n  furtherStyles: StyleObject = {}\n) {\n  // Merge CSS transition necessary for chart animation with the ones provided by \"segmentsStyle\"\n  const transition = [\n    `stroke-dashoffset ${duration}ms ${easing}`,\n    furtherStyles.transition,\n  ]\n    .filter(Boolean)\n    .join(',');\n\n  return {\n    transition,\n  };\n}\n\nexport default function renderSegments(\n  data: ExtendedData,\n  props: ChartProps,\n  hide: Boolean = false\n) {\n  let style = props.segmentsStyle;\n  if (props.animate) {\n    const transitionStyle = makeSegmentTransitionStyle(\n      props.animationDuration,\n      props.animationEasing,\n      style\n    );\n    style = Object.assign({}, style, transitionStyle);\n  }\n\n  // Hide/reveal the segment?\n  let reveal: number;\n  if (hide === true) {\n    reveal = 0;\n  } else if (typeof props.reveal === 'number') {\n    reveal = props.reveal;\n  } else if (hide === false) {\n    reveal = 100;\n  }\n\n  const { cx, cy, radius } = extractAbsoluteCoordinates(props);\n  const lineWidth = extractPercentage(radius, props.lineWidth);\n  const paths = data.map((dataEntry, index) => {\n    const startAngle = props.startAngle + dataEntry.startOffset;\n\n    return (\n      <Path\n        key={dataEntry.key || index}\n        cx={cx}\n        cy={cy}\n        startAngle={startAngle}\n        lengthAngle={dataEntry.degrees}\n        radius={radius}\n        lineWidth={lineWidth}\n        reveal={reveal}\n        title={dataEntry.title}\n        style={Object.assign({}, style, dataEntry.style)}\n        stroke={dataEntry.color}\n        strokeLinecap={props.rounded ? 'round' : undefined}\n        fill=\"none\"\n        onMouseOver={\n          props.onMouseOver &&\n          // @ts-ignore\n          ((e: React.MouseEvent) => props.onMouseOver(e, props.data, index))\n        }\n        onMouseOut={\n          props.onMouseOut &&\n          // @ts-ignore\n          ((e: React.MouseEvent) => props.onMouseOut(e, props.data, index))\n        }\n        onClick={\n          props.onClick &&\n          // @ts-ignore\n          ((e: React.MouseEvent) => props.onClick(e, props.data, index))\n        }\n      />\n    );\n  });\n\n  if (props.background) {\n    paths.unshift(\n      <Path\n        key=\"bg\"\n        cx={cx}\n        cy={cy}\n        startAngle={props.startAngle}\n        lengthAngle={props.lengthAngle}\n        radius={radius}\n        lineWidth={lineWidth}\n        stroke={props.background}\n        strokeLinecap={props.rounded ? 'round' : undefined}\n        fill=\"none\"\n      />\n    );\n  }\n\n  return paths;\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { dataPropType, stylePropType } from '../propTypes';\nimport { Data, EventHandler, LabelProp, StyleObject } from '../commonTypes';\nimport extendData from './extendData';\nimport renderLabels from './renderLabels';\nimport renderSegments from './renderSegments';\n\nexport type Props = typeof ReactMinimalPieChart.defaultProps & {\n  animate?: boolean;\n  animationDuration?: number;\n  animationEasing?: string;\n  background?: string;\n  className?: string;\n  cx?: number;\n  cy?: number;\n  data: Data;\n  lengthAngle?: number;\n  lineWidth?: number;\n  injectSvg?: () => React.ReactElement | void;\n  label?: LabelProp;\n  labelPosition?: number;\n  labelStyle?: StyleObject;\n  onClick?: EventHandler;\n  onMouseOut?: EventHandler;\n  onMouseOver?: EventHandler;\n  paddingAngle?: number;\n  radius?: number;\n  reveal?: number;\n  rounded?: boolean;\n  segmentsStyle?: StyleObject;\n  startAngle?: number;\n  style?: StyleObject;\n  totalValue?: number;\n  viewBoxSize?: [number, number];\n};\n\nexport default class ReactMinimalPieChart extends Component<Props> {\n  static displayName = 'ReactMinimalPieChart';\n  static defaultProps = {\n    animate: false,\n    animationDuration: 500,\n    animationEasing: 'ease-out',\n    cx: 50,\n    cy: 50,\n    label: false,\n    labelPosition: 50,\n    lengthAngle: 360,\n    lineWidth: 100,\n    paddingAngle: 0,\n    radius: 50,\n    rounded: false,\n    startAngle: 0,\n    viewBoxSize: [100, 100],\n  };\n  static propTypes = {\n    animate: PropTypes.bool,\n    animationDuration: PropTypes.number,\n    animationEasing: PropTypes.string,\n    background: PropTypes.string,\n    children: PropTypes.node,\n    className: PropTypes.string,\n    cx: PropTypes.number,\n    cy: PropTypes.number,\n    data: dataPropType,\n    injectSvg: PropTypes.func,\n    label: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.element,\n      PropTypes.bool,\n    ]),\n    labelPosition: PropTypes.number,\n    labelStyle: stylePropType,\n    lengthAngle: PropTypes.number,\n    lineWidth: PropTypes.number,\n    onClick: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    paddingAngle: PropTypes.number,\n    radius: PropTypes.number,\n    reveal: PropTypes.number,\n    rounded: PropTypes.bool,\n    segmentsStyle: stylePropType,\n    startAngle: PropTypes.number,\n    style: stylePropType,\n    totalValue: PropTypes.number,\n    viewBoxSize: PropTypes.arrayOf(PropTypes.number),\n  };\n\n  hideSegments: boolean = false;\n  initialAnimationTimerId?: null | number;\n  initialAnimationRAFId?: null | number;\n\n  constructor(props: Props) {\n    super(props);\n\n    if (props.animate === true) {\n      this.hideSegments = true;\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.animate === true && requestAnimationFrame) {\n      this.initialAnimationTimerId = setTimeout(() => {\n        this.initialAnimationTimerId = null;\n        this.initialAnimationRAFId = requestAnimationFrame(() => {\n          this.initialAnimationRAFId = null;\n          this.startAnimation();\n        });\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    if (this.initialAnimationTimerId) {\n      clearTimeout(this.initialAnimationTimerId);\n    }\n    if (this.initialAnimationRAFId) {\n      cancelAnimationFrame(this.initialAnimationRAFId);\n    }\n  }\n\n  startAnimation() {\n    this.hideSegments = false;\n    this.forceUpdate();\n  }\n\n  render() {\n    const props = this.props;\n    if (props.data === undefined) {\n      return null;\n    }\n    const extendedData = extendData(props);\n\n    return (\n      <div className={props.className} style={props.style}>\n        <svg\n          viewBox={`0 0 ${props.viewBoxSize[0]} ${props.viewBoxSize[1]}`}\n          width=\"100%\"\n          height=\"100%\"\n          style={{ display: 'block' }}\n        >\n          {renderSegments(extendedData, props, this.hideSegments)}\n          {props.label && renderLabels(extendedData, props)}\n          {props.injectSvg && props.injectSvg()}\n        </svg>\n        {props.children}\n      </div>\n    );\n  }\n}\n"],"names":["stylePropType","PropTypes","objectOf","oneOfType","number","string","dataPropType","arrayOf","shape","title","value","isRequired","color","key","style","degreesToRadians","degrees","Math","PI","evaluateLabelTextAnchor","labelPosition","lineWidth","labelHorizontalShift","innerRadius","valueBetween","min","max","extractPercentage","percentage","extractAbsoluteCoordinates","props","viewBoxSize","viewBoxWidth","viewBoxHeight","cx","cy","radius","sumValues","data","reduce","acc","dataEntry","extendData","totalAngle","lengthAngle","totalValue","paddingAngle","total","normalizedTotalAngle","numberOfPaddings","abs","length","singlePaddingDegrees","sign","degreesTakenByPadding","degreesTakenByPaths","lastSegmentEnd","map","valueInPercentage","startOffset","ReactMinimalPieChartLabel","dataIndex","React","displayName","renderLabelItem","option","labelProps","isValidElement","cloneElement","label","DefaultLabel","renderLabels","index","startAngle","halfAngle","halfAngleRadians","dx","cos","dy","sin","x","y","textAnchor","labelStyle","partialCircle","r","start","end","fromX","fromY","toX","toY","large","sweep","module","makePathCommands","patchedLengthAngle","command","join","ReactMinimalPieChartPath","reveal","actualRadio","pathCommands","strokeDasharray","strokeDashoffset","pathLength","makeSegmentTransitionStyle","duration","easing","furtherStyles","transition","filter","Boolean","renderSegments","hide","segmentsStyle","animate","transitionStyle","animationDuration","animationEasing","Object","assign","paths","Path","rounded","undefined","onMouseOver","e","onMouseOut","onClick","background","unshift","ReactMinimalPieChart","hideSegments","initialAnimationTimerId","initialAnimationRAFId","componentDidMount","requestAnimationFrame","setTimeout","startAnimation","componentWillUnmount","clearTimeout","cancelAnimationFrame","forceUpdate","render","extendedData","className","display","injectSvg","children","Component","defaultProps","propTypes","bool","node","func","element"],"mappings":"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"}